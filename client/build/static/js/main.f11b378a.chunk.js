(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(268)},268:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),o=a.n(l),c=a(8),u=a(9),s=a.n(u),m=a(12),i=a(7),p=(a(60),a(61),a(39)),b=a(270),d=a(158),E=a(20),g=a(166),h=a(116),f=a(56),v=a(267),k=a(272),w=a(35),_=a(10),O=a.n(_),y=a(41),S=a(14),j=a(6);var x=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),c=Object(i.a)(o,2),u=c[0],_=c[1];console.log(u);var x=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/search",{headers:{search:a}});case 3:(t=e.sent)&&_(JSON.parse(t.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(p.a,{collapseOnSelect:!0,expand:"false",bg:"dark",variant:"dark"},r.a.createElement(b.a,{fluid:!0},r.a.createElement(d.a,null,r.a.createElement(S.b,{as:S.b,to:"/"},"Komoot-Social")),r.a.createElement(E.a,{className:"d-flex"},r.a.createElement(g.a,{type:"search",placeholder:"Search for tour",classname:"","aria-lable":"Search",onChange:function(e){!function(e){l(e.target.value)}(e)}}),r.a.createElement(w.a,{variant:"outline-success",className:"",onClick:function(){x()}},"Search")),r.a.createElement("div",{className:"tourDisplay"},u.length>0&&u.map(function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{style:{width:"35rem"},className:"md-2"},r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,r.a.createElement("a",{href:"https://www.komoot.de/tour/"+e.tour_id},e.tour_name)),r.a.createElement(h.a.Subtitle,{className:"mb-2 text-muted"},e.tour_sport),r.a.createElement(f.a,{variant:"flush"},r.a.createElement(f.a.Item,null,"Date: ",e.tour_date),r.a.createElement(f.a.Item,null,"Start: ",e.tour_start_point),r.a.createElement(f.a.Item,null,"Distance: ",e.tour_distance," km"),r.a.createElement(f.a.Item,null,"Duration: ",e.tour_duration," min"),r.a.createElement(f.a.Item,null,"Elevation Up: ",e.tour_elevation_up," m \u279a"),r.a.createElement(f.a.Item,null,"Elevation Down: ",e.tour_elevation_down," m \u2798"),r.a.createElement(f.a.Item,null,r.a.createElement(h.a.Text,null,"Beschreibung:"),r.a.createElement(h.a.Text,null,Object(y.a)("".concat(e.tour_text))))))),r.a.createElement("br",null))})),r.a.createElement(p.a.Toggle,{"aria-controls":"offcanvasNavbar"}),r.a.createElement(p.a.Offcanvas,{id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel",placement:"end"},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,{id:"offcanvasNavbarLabel"},"Menu")),r.a.createElement(v.a.Body,null,r.a.createElement(j.d,null,r.a.createElement(k.a,{className:"justify-content-end flex-grow-1 pe-3"},r.a.createElement(k.a.Link,{as:S.b,to:"profile"},"Profile"),r.a.createElement(k.a.Link,{as:S.b,to:"/statistics"},"Statistics"),r.a.createElement(k.a.Link,{as:S.b,to:"/tours"},"Tours"),r.a.createElement(k.a.Link,{as:S.b,to:"/friends"},"Friends"))),r.a.createElement(w.a,{className:"mt-4",onClick:function(){localStorage.removeItem("token")}},"LogOut"))))))};var C=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(function(){O.a.get("https://kommot-social.herokuapp.com/api/user-data",{headers:{"x-access-token":localStorage.getItem("token")}}).then(function(e){l(e.data.username)})}),r.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"lg",fixed:"bottom",display:"block"},r.a.createElement(b.a,{fluid:!0},r.a.createElement(j.d,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Link,null,"Impressum"),a?r.a.createElement(p.a.Text,null,"Signed in as: ",a):r.a.createElement(p.a.Text,null,r.a.createElement(S.b,{to:"/login"},"login"),"/",r.a.createElement(S.b,{to:"/register"},"register"))))))},N=a(2),I=a(271),T=a(167),A=a(168),D=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(i.a)(e,2),a=t[0],l=t[1],o=function(e){var t=e.target.value;l(Object(N.a)({},a,Object(c.a)({},e.target.name,t)))};function u(){return(u=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.a.post("https://kommot-social.herokuapp.com/api/login",{email:a.email,password:a.password}).then(function(e){console.log(e),e.data.user?(localStorage.setItem("token",e.data.user),window.location.href="/"):alert("wrong email/password")});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null),r.a.createElement(E.a,{className:""},r.a.createElement(A.a,{controlId:"floatingInput",label:"Email address",className:"mb-3"},r.a.createElement(E.a.Control,{type:"email",placeholder:"name@example.com",name:"email",value:a.email,onChange:function(e){return o(e)}})),r.a.createElement(A.a,{className:"mb-3",controlId:"floatingPassword",label:"Password"},r.a.createElement(E.a.Control,{type:"password",placeholder:"Password",name:"password",value:a.password,onChange:function(e){return o(e)}})),r.a.createElement(w.a,{variant:"primary",type:"submit",onClick:function(e){return u.apply(this,arguments)}},"Submit"),r.a.createElement(T.a,null),r.a.createElement(j.d,null,r.a.createElement(S.b,{to:"/register"},"Register")))))};var M=function(){var e=Object(n.useState)({username:"",email:"",password:"",komootEmail:"",komootPassword:"",kommotID:""}),t=Object(i.a)(e,2),a=t[0],l=t[1],o=function(e){var t=e.target.value;l(Object(N.a)({},a,Object(c.a)({},e.target.name,t)))};function u(){return(u=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.a.post("https://kommot-social.herokuapp.com/api/register",{username:a.username,email:a.email,password:a.password,komootEmail:a.komootEmail,komootPassword:a.komootPassword,komootID:a.komootID});case 3:window.location.href="/login";case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(b.a,{className:"w-25 p-10"},r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a,null,r.a.createElement(A.a,{controlId:"floatingInput",label:"Username",className:"mb-3"},r.a.createElement(E.a.Control,{type:"text",placeholder:"Username",name:"username",value:a.username,onChange:function(e){return o(e)}})),r.a.createElement(A.a,{controlId:"floatingInput",label:"Email address",className:"mb-3"},r.a.createElement(E.a.Control,{type:"email",placeholder:"name@example.com",name:"email",value:a.email,onChange:function(e){return o(e)}})),r.a.createElement(A.a,{className:"mb-3",controlId:"floatingPassword",label:"Password"},r.a.createElement(E.a.Control,{type:"password",placeholder:"Password",name:"password",value:a.password,onChange:function(e){return o(e)}}))))),r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a,null,r.a.createElement(A.a,{controlId:"floatingInput",label:"Komoot-Email",className:"mb-3"},r.a.createElement(E.a.Control,{type:"email",placeholder:"name@example.com",name:"komootEmail",value:a.komootEmail,onChange:function(e){return o(e)}})),r.a.createElement(A.a,{controlId:"floatingPassword",label:"Komoot-Password",className:"mb-3"},r.a.createElement(E.a.Control,{type:"password",placeholder:"Password",name:"komootPassword",value:a.komootPassword,onChange:function(e){return o(e)}})),r.a.createElement(A.a,{className:"mb-3",controlId:"floatingInput",label:"Komoot-ID"},r.a.createElement(E.a.Control,{type:"text",placeholder:"Komoot-ID",name:"komootID",value:a.komootID,onChange:function(e){return o(e)}})),r.a.createElement(w.a,{variant:"primary",type:"submit",onClick:function(e){return u.apply(this,arguments)}},"Submit")))))},P=a(3);var F=function(e){var t=e.isAuth,a=e.component,n=Object(P.a)(e,["isAuth","component"]);return r.a.createElement(j.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,null):r.a.createElement(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},J=a(40),L=a(169);var B=Object(j.g)(function(e){e.isAuth,e.component,Object(P.a)(e,["isAuth","component"]);var t=Object(n.useState)(""),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),u=Object(i.a)(c,2),s=u[0],m=u[1],p=Object(n.useState)(""),d=Object(i.a)(p,2),E=d[0],g=d[1];return Object(n.useEffect)(function(){O.a.get("https://kommot-social.herokuapp.com/api/user-data",{headers:{"x-access-token":localStorage.getItem("token")}}).then(function(e){o(e.data.username),m(e.data.email),g(e.data.komootID)})}),""===l?r.a.createElement("div",null,r.a.createElement(J.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"visually-hidden"},"Loading..."))):r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null),r.a.createElement(h.a,{style:{width:"25rem"}},r.a.createElement(h.a.Img,{variant:"top",src:"holder.js/100px180?text=Image cap"}),r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,l)),r.a.createElement(f.a,{className:"list-group-flush"},r.a.createElement(L.a,null,"Email: ",s),r.a.createElement(L.a,null,"..."),r.a.createElement(L.a,null,"...")),r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Link,null,r.a.createElement("a",{href:"https://komoot.de/user/"+E},"KomootProfil")))),r.a.createElement(T.a,null)))}),V=a(119);var H=Object(j.g)(function(e){e.isAuth,e.component,Object(P.a)(e,["isAuth","component"]);var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)({is_private:"null",tour_text:"null"}),u=Object(i.a)(c,2),p=u[0],d=u[1];console.log(p);var g=Object(n.useState)({editing:!1,tour_id:null}),v=Object(i.a)(g,2),k=v[0],_=v[1],S=Object(n.useState)(null),j=Object(i.a)(S,2),x=j[0],C=j[1],N=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/all-tours",{headers:{"x-access-token":localStorage.getItem("token")}});case 3:(t=e.sent)&&o(JSON.parse(t.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){N()},[]),0===l.length?r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(J.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"visually-hidden"},"Loading..."))))):r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null),r.a.createElement(T.a,null,r.a.createElement("div",{className:"tourDisplay"},l.length>0&&l.map(function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{style:{width:"35rem"},className:"md-2"},r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,r.a.createElement("a",{href:"https://www.komoot.de/tour/"+e.tour_id},e.tour_name)),r.a.createElement(h.a.Subtitle,{className:"mb-2 text-muted"},e.tour_sport),r.a.createElement(f.a,{variant:"flush"},r.a.createElement(f.a.Item,null,"Date: ",e.tour_date),r.a.createElement(f.a.Item,null,"Start: ",e.tour_start_point),r.a.createElement(f.a.Item,null,"Distance: ",e.tour_distance," km"),r.a.createElement(f.a.Item,null,"Duration: ",e.tour_duration," min"),r.a.createElement(f.a.Item,null,"Elevation Up: ",e.tour_elevation_up," m \u279a"),r.a.createElement(f.a.Item,null,"Elevation Down: ",e.tour_elevation_down," m \u2798"),r.a.createElement(f.a.Item,null,1===e.is_private?r.a.createElement("p",null,"Status: Privat"):r.a.createElement("p",null,"Status: \xd6ffentlich")),r.a.createElement(f.a.Item,null,r.a.createElement(h.a.Text,null,"Beschreibung:"),r.a.createElement(h.a.Text,null,Object(y.a)("".concat(e.tour_text)))),r.a.createElement(f.a.Item,{className:"mt-3"},r.a.createElement(w.a,{onClick:function(){var t;t=e.tour_id,_({editing:!0,tour_id:t})}},"Edit")),k.editing&&k.tour_id===e.tour_id?r.a.createElement(b.a,{className:"mt-3"},r.a.createElement(E.a.Check,{type:"switch",className:"mb-3",id:"custom-switch",label:"Change Status",defaultChecked:e.is_private,onChange:function(e){!function(e){var t=e.target.checked;d(t?{is_private:1,tour_text:p.tour_text}:{is_private:0,tour_text:p.tour_text})}(e)}}),r.a.createElement(V.a,{value:x,onChange:function(e){!function(e){C(e.target.value),d({is_private:p.is_private,tour_text:e.target.value})}(e)}}),r.a.createElement(w.a,{className:"mt-3",onClick:function(){var t;t=e.tour_id,O.a.get("https://kommot-social.herokuapp.com/api/update-tour",{headers:{"x-access-token":localStorage.getItem("token"),is_private:p.is_private,tour_text:p.tour_text,tour_id:t}}),_({editing:!1})}},"Update")):r.a.createElement("p",null)))),r.a.createElement("br",null))}))),r.a.createElement(T.a,null)))}),U=a(57);var K=Object(j.g)(function(e){e.isAuth,e.component,Object(P.a)(e,["isAuth","component"]);var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)([]),u=Object(i.a)(c,2),p=u[0],d=u[1],g=Object(n.useState)([]),v=Object(i.a)(g,2),k=v[0],_=v[1],y=Object(n.useState)([]),S=Object(i.a)(y,2),j=S[0],x=S[1],C=Object(n.useState)(""),N=Object(i.a)(C,2),A=N[0],D=N[1],M=Object(n.useState)(""),F=Object(i.a)(M,2),J=F[0],B=F[1],V=Object(n.useState)([]),H=Object(i.a)(V,2),K=H[0],R=H[1],W=Object(n.useState)(!1),Y=Object(i.a)(W,2),z=Y[0],Z=Y[1],q=Object(n.useState)([]),G=Object(i.a)(q,2),Q=G[0],X=G[1],$=Object(n.useState)([]),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(i.a)(ne,2),le=re[0],oe=re[1];console.log(J);var ce=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/list-friends",{headers:{"x-access-token":localStorage.getItem("token")}});case 3:(t=e.sent)&&R(t.data.listOfFriends),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/howOftenSport",{headers:{"x-access-token":localStorage.getItem("token")}});case 3:(t=e.sent)&&o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/HowOftenSportsFriend",{headers:{friendemail:J}});case 3:(t=e.sent)&&d(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/totalSportValues",{headers:{"x-access-token":localStorage.getItem("token")}});case 3:(t=e.sent)&&_(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/totalSportValuesFriend",{headers:{friendemail:J}});case 3:(t=e.sent)&&x(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(m.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/toursInMonthPerYear",{headers:{"x-access-token":localStorage.getItem("token"),year:t}});case 3:(a=e.sent)&&X(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/toursInMonthPerYearFriend",{headers:{friendemail:J,year:le}});case 3:(t=e.sent)&&ae(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),de=function(){!1===z?Z(!0):!0===z&&Z(!1)},Ee=function(){pe(le)};Object(n.useEffect)(function(){ue(),me(),ce()},[]);var ge=function(e){var t=e.target.value;"none"!==t&&D(t)},he=function(e){var t=e.target.value;"none"!==t&&B(t)},fe=function(e){var t=e.target.value;"none"!==t&&oe(t)};return"howoften"===A&&!1===z?r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return ge(e)}},r.a.createElement("option",{value:"none"},"--Select Statistic--"),r.a.createElement("option",{value:"total"},"Total Sport Values"),r.a.createElement("option",{value:"howoften"},"How Often Sporttypes"),r.a.createElement("option",{value:"sportPerMonth"},"Sport per Month")),r.a.createElement(w.a,{className:"mt-4",variant:"outline-success",onClick:function(){de()}},"Compare with Friend"))),r.a.createElement(I.a,null,r.a.createElement(T.a,null,l.map(function(e){return r.a.createElement("div",null,r.a.createElement(U.Bar,{className:"mt-3",data:{labels:["e_mtb","e_mtb_advanced","e_mtb_easy","e_racebike","e_touringbicycle","hike","jogging","mountaineering","mtb","mtb_advanced","mtb_easy","racebike","touringbicycle"],datasets:[{label:"# number of sporttypes",data:[e.e_mtb,e.e_mtb_advanced,e.e_mtb_easy,e.e_racebike,e.e_touringbicycle,e.hike,e.jogging,e.mountaineering,e.mtb,e.mtb_advanced,e.mtb_easy,e.mtb_easy,e.racebike,e.touringbicycle],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:2,skipNull:!1}]},height:400,width:400,options:{maintainAspectRatio:!1,scales:{yAxes:{ticks:{beginAtZero:!0}}}}}))})))):"total"===A&&!1===z?r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return ge(e)}},r.a.createElement("option",{value:"none"},"--Select Statistic--"),r.a.createElement("option",{value:"total"},"Total Sport Values"),r.a.createElement("option",{value:"howoften"},"How Often Sporttypes"),r.a.createElement("option",{value:"sportPerMonth"},"Sport per Month")),r.a.createElement(w.a,{variant:"outline-success",className:"mt-3",onClick:function(){de()}},"Compare with Friend"))),r.a.createElement(I.a,null,r.a.createElement(T.a,null,k.map(function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{style:{width:"25rem"},className:"mt-3"},r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,"Total Sport Values")),r.a.createElement(f.a,{className:"list-group-flush"},r.a.createElement(L.a,null,"Total recorded Tours: ",e.totalrecordedtours),r.a.createElement(L.a,null,"Total planned Tours: ",e.totalplannedtours),r.a.createElement(L.a,null,"Total distance: ",e.totaldistance),r.a.createElement(L.a,null,"Total duration: ",e.totalduration),r.a.createElement(L.a,null,"Total elevation up: ",e.totalelevationup),r.a.createElement(L.a,null,"Total elevation down: ",e.totalelevationdown))))})))):"howoften"===A&&!0===z?r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return ge(e)}},r.a.createElement("option",{value:"none"},"--Select Statistic--"),r.a.createElement("option",{value:"total"},"Total Sport Values"),r.a.createElement("option",{value:"howoften"},"How Often Sporttypes"),r.a.createElement("option",{value:"sportPerMonth"},"Sport per Month")),r.a.createElement(E.a.Control,{className:"mt-2",as:"select",custom:!0,onChange:function(e){return he(e)}},r.a.createElement("option",{value:"none"},"--Select Friend To Compare--"),K.map(function(e){return r.a.createElement("option",{value:e.email},e.username)})),r.a.createElement(w.a,{variant:"outline-success",className:"mt-3",onClick:function(){se()}},"Load Friend Data"))),r.a.createElement(I.a,null,r.a.createElement(T.a,null,l.map(function(e){return p.map(function(t){return r.a.createElement("div",null,r.a.createElement(U.Bar,{className:"mt-3",data:{labels:["e_mtb","e_mtb_advanced","e_mtb_easy","e_racebike","e_touringbicycle","hike","jogging","mountaineering","mtb","mtb_advanced","mtb_easy","racebike","touringbicycle"],datasets:[{label:"# number of sporttypes from you",data:[e.e_mtb,e.e_mtb_advanced,e.e_mtb_easy,e.e_racebike,e.e_touringbicycle,e.hike,e.jogging,e.mountaineering,e.mtb,e.mtb_advanced,e.mtb_easy,e.mtb_easy,e.racebike,e.touringbicycle],backgroundColor:["rgba(185, 163, 1, 0.4)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(2, 7, 156, 0.2)","rgba(62, 171, 0, 0.5)","rgba(22, 254, 177, 0.1)","rgba(199, 51, 156, 1) ","rgba(5, 160, 96, 0.3)"],borderColor:["rgba(185, 163, 1, 0.4)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(2, 7, 156, 0.2) rgba(2, 7, 156, 0.2)","rgba(62, 171, 0, 0.5)","rgba(22, 254, 177, 0.1)","rgba(199, 51, 156, 1) ","rgba(5, 160, 96, 0.3)"],borderWidth:2,skipNull:!1},{label:"# number of sporttypes from "+J,data:[t.e_mtb,t.e_mtb_advanced,t.e_mtb_easy,t.e_racebike,t.e_touringbicycle,t.hike,t.jogging,t.mountaineering,t.mtb,t.mtb_advanced,t.mtb_easy,t.mtb_easy,t.racebike,t.touringbicycle],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:2,skipNull:!1}]},height:400,width:400,options:{maintainAspectRatio:!1,scales:{yAxes:{ticks:{beginAtZero:!0}}}}}))})})))):"total"===A&&!0===z?r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return ge(e)}},r.a.createElement("option",{value:"none"},"--Select Statistic--"),r.a.createElement("option",{value:"total"},"Total Sport Values"),r.a.createElement("option",{value:"howoften"},"How Often Sporttypes"),r.a.createElement("option",{value:"sportPerMonth"},"Sport per Month")),r.a.createElement(E.a.Control,{className:"mt-2",as:"select",custom:!0,onChange:function(e){return he(e)}},r.a.createElement("option",{value:"none"},"--Select Friend To Compare--"),K.map(function(e){return r.a.createElement("option",{value:e.email},e.username)})),r.a.createElement(w.a,{variant:"outline-success",className:"mt-3",onClick:function(){ie()}},"Load Friend Data"))),r.a.createElement(I.a,null,r.a.createElement(T.a,null,k.map(function(e){return j.map(function(t){return r.a.createElement("div",null,r.a.createElement(h.a,{style:{width:"32rem"},className:"mt-3"},r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,"Total Sport Values")),r.a.createElement(f.a,{className:"list-group-flush"},r.a.createElement(L.a,null,"Total recorded Tours: ",e.totalrecordedtours," /"," ",t.totalrecordedtours),r.a.createElement(L.a,null,"Total planned Tours: ",e.totalplannedtours," /"," ",t.totalplannedtours),r.a.createElement(L.a,null,"Total distance: ",e.totaldistance," /"," ",t.totaldistance),r.a.createElement(L.a,null,"Total duration: ",e.totalduration," /"," ",t.totalduration),r.a.createElement(L.a,null,"Total elevation up: ",e.totalelevationup," /"," ",t.totalelevationup),r.a.createElement(L.a,null,"Total elevation down: ",e.totalelevationdown," /"," ",t.totalelevationdown))))})})))):"sportPerMonth"===A&&!1===z?r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return ge(e)}},r.a.createElement("option",{value:"none"},"--Select Statistic--"),r.a.createElement("option",{value:"total"},"Total Sport Values"),r.a.createElement("option",{value:"howoften"},"How Often Sporttypes"),r.a.createElement("option",{value:"sportPerMonth"},"Sport per Month")),r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return fe(e)}},r.a.createElement("option",{value:"none"},"--Select Year--"),r.a.createElement("option",{value:"2022"},"2022"),r.a.createElement("option",{value:"2021"},"2021"),r.a.createElement("option",{value:"2020"},"2020"),r.a.createElement("option",{value:"2019"},"2019")),r.a.createElement(w.a,{variant:"outline-success",className:"mt-3",onClick:function(){Ee()}},"Select Year"),r.a.createElement(w.a,{variant:"outline-success",className:"mt-3",onClick:function(){de()}},"Compare with Friend"))),r.a.createElement(I.a,null,r.a.createElement(T.a,null,Q.map(function(e){return r.a.createElement("div",null,r.a.createElement(U.Line,{className:"mt-3",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","Dezember"],datasets:[{label:"# number of sporttypes per month",data:[e.January,e.February,e.March,e.April,e.May,e.June,e.July,e.August,e.September,e.October,e.November,e.Dezember],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:2,skipNull:!1}]},height:400,width:400,options:{maintainAspectRatio:!1,scales:{yAxes:{ticks:{beginAtZero:!0}}}}}))})))):"sportPerMonth"===A&&!0===z?r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return ge(e)}},r.a.createElement("option",{value:"none"},"--Select Statistic--"),r.a.createElement("option",{value:"total"},"Total Sport Values"),r.a.createElement("option",{value:"howoften"},"How Often Sporttypes"),r.a.createElement("option",{value:"sportPerMonth"},"Sport per Month")),r.a.createElement(E.a.Control,{className:"mt-2",as:"select",custom:!0,onChange:function(e){return he(e)}},r.a.createElement("option",{value:"none"},"--Select Friend To Compare--"),K.map(function(e){return r.a.createElement("option",{value:e.email},e.username)})),r.a.createElement(w.a,{variant:"outline-success",className:"mt-3",onClick:function(){be()}},"Load Friend Data"),r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return fe(e)}},r.a.createElement("option",{value:"none"},"--Select Year--"),r.a.createElement("option",{value:"2022"},"2022"),r.a.createElement("option",{value:"2021"},"2021"),r.a.createElement("option",{value:"2020"},"2020"),r.a.createElement("option",{value:"2019"},"2019")),r.a.createElement(w.a,{variant:"outline-success",className:"mt-3",onClick:function(){Ee()}},"Select Year"))),r.a.createElement(I.a,null,r.a.createElement(T.a,null,Q.map(function(e){return te.map(function(t){return r.a.createElement("div",null,r.a.createElement(U.Line,{className:"mt-3",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","Dezember"],datasets:[{label:"# number of sporttypes per month",data:[e.January,e.February,e.March,e.April,e.May,e.June,e.July,e.August,e.September,e.October,e.November,e.Dezember],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:2,skipNull:!0},{label:"# number of sporttypes per month "+J,data:[t.January,t.February,t.March,t.April,t.May,t.June,t.July,t.August,t.September,t.October,t.November,t.Dezember],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:2,skipNull:!0}]},height:400,width:400,options:{maintainAspectRatio:!1,scales:{yAxes:{ticks:{beginAtZero:!0}}}}}))})})))):r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a.Control,{as:"select",custom:!0,onChange:function(e){return ge(e)}},r.a.createElement("option",{value:"none"},"--Select Statistic--"),r.a.createElement("option",{value:"total"},"Total Sport Values"),r.a.createElement("option",{value:"howoften"},"How Often Sporttypes"),r.a.createElement("option",{value:"sportPerMonth"},"Sport per Month")))))});var R=Object(j.g)(function(e){e.isAuth,e.component,Object(P.a)(e,["isAuth","component"]);var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)([]),u=Object(i.a)(c,2),p=u[0],d=u[1],v=Object(n.useState)(""),k=Object(i.a)(v,2),_=k[0],y=k[1];console.log("Search: "+l),console.log("list of friends: "+p);var S=function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/delete-friend",{headers:{"x-access-token":localStorage.getItem("token"),usertodelete:t}}).then(function(e){});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/search-user",{headers:{user:_}});case 3:(t=e.sent)&&o(t.data),"error"===t.status&&alert("User not Found"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/list-friends",{headers:{"x-access-token":localStorage.getItem("token")}});case 3:(t=e.sent)&&(d(t.data.listOfFriends),console.log(t.data.listOfFriends)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){x()},[]),r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,r.a.createElement(E.a,{className:"d-flex"},r.a.createElement(g.a,{type:"search",placeholder:"Search for User",classname:"","aria-lable":"Search",onChange:function(e){!function(e){y(e.target.value)}(e)}}),r.a.createElement(w.a,{variant:"outline-success",onClick:function(){j()}},"Search")),0!==l.length?r.a.createElement(b.a,null,r.a.createElement(h.a,{style:{width:"20rem"},className:"mt-4"},r.a.createElement(h.a.Title,null,"Result:"),r.a.createElement(f.a,{variant:"flush"},r.a.createElement(f.a.Item,null,l.username," / ",l.email))),r.a.createElement(w.a,{varian:"outline-succes",className:"mt-3",onClick:function(){var e;e=l.email,O.a.get("https://kommot-social.herokuapp.com/api/add-friend",{headers:{"x-access-token":localStorage.getItem("token"),email:e}}),o([])}},"Add Friend")):r.a.createElement("p",null))),r.a.createElement(I.a,null,r.a.createElement(T.a,null,p.length>0?r.a.createElement("div",null,r.a.createElement(h.a,{style:{width:"35rem"},className:"mt-4"},r.a.createElement(h.a.Title,null,"Friends:"),r.a.createElement(f.a,{variant:"flush"},p.map(function(e){return r.a.createElement("div",null,r.a.createElement(f.a.Item,null,e.username),r.a.createElement(f.a.Item,null,e.email),r.a.createElement(w.a,{className:"m-2",variant:"danger",onClick:function(){return S(e.email)}},"Delete"))})))):r.a.createElement("h3",null,"Search for Friends"))))});var W=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],o=function(){var e=Object(m.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://kommot-social.herokuapp.com/api/get-feed");case 3:(t=e.sent)&&l(JSON.parse(t.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){o()},[o()]),0===a.length?r.a.createElement("div",null,r.a.createElement(J.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"visually-hidden"},"Loading..."))):r.a.createElement(b.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null),r.a.createElement(T.a,null,r.a.createElement("div",{className:"tourDisplay"},a.length>0&&a.map(function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{style:{width:"30rem"},className:"md-2"},r.a.createElement(h.a.Body,null,e.tour_user_id===e.tour_creator_id&&"tour_recorded"===e.tour_type?r.a.createElement(h.a.Title,null,r.a.createElement("a",{href:"https://www.komoot.de/user/"+e.tour_user_id},e.tour_creator_username)," ","recorded"," ",r.a.createElement("a",{href:"https://www.komoot.de/tour/"+e.tour_id},e.tour_name)):e.tour_user_id!==e.tour_creator_id&&"tour_recorded"===e.tour_type?r.a.createElement(h.a.Title,null,r.a.createElement("a",{href:"https://www.komoot.de/user/"+e.tour_creator_id},e.tour_creator_username)," ","recorded"," ",r.a.createElement("a",{href:"https://www.komoot.de/tour/"+e.tour_id},e.tour_name)," ","with"," ",r.a.createElement("a",{href:"https://www.komoot.de/user/"+e.tour_user_id},e.tour_user_username)):r.a.createElement(h.a.Title,null,r.a.createElement("a",{href:"https://www.komoot.de/user/"+e.tour_user_id},e.tour_user_username)," ","planned"," ",r.a.createElement("a",{href:"https://www.komoot.de/tour/"+e.tour_id},e.tour_name)),r.a.createElement(h.a.Subtitle,{className:"mb-2 text-muted"},e.tour_sport),r.a.createElement(f.a,{variant:"flush"},r.a.createElement(f.a.Item,null,e.tour_date),r.a.createElement(f.a.Item,null,e.tour_distance," km"),r.a.createElement(f.a.Item,null,e.tour_duration," min"),r.a.createElement(f.a.Item,null,e.tour_elevation_up," m \u279a"),r.a.createElement(f.a.Item,null,e.tour_elevation_down," m \u2798"),r.a.createElement(f.a.Item,null,r.a.createElement(h.a.Text,null,"Beschreibung:"),r.a.createElement(h.a.Text,null,Object(y.a)("".concat(e.tour_text))))))),r.a.createElement("br",null))}))),r.a.createElement(T.a,null)))};var Y=function(){var e,t,a=Object(n.useState)(!1),l=Object(i.a)(a,2),o=l[0],u=l[1],p=Object(n.useState)(!1),b=Object(i.a)(p,2),d=b[0],E=b[1],g=function(){var e=Object(m.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{localStorage.getItem("token")?(u(!0),E(!0)):(u(!1),E(!0))}catch(t){console.error(t)}case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){g()},[]),d?r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(x,null),r.a.createElement(j.b,{exact:!0,path:"/",component:W}),r.a.createElement(j.b,{exact:!0,path:"/login",component:D}),r.a.createElement(j.b,{exact:!0,path:"/register",component:M}),r.a.createElement(F,{exact:!0,path:"/profile",component:Object(j.g)(B),isAuth:o}),r.a.createElement(F,{exact:!0,path:"/friends",component:Object(j.g)(R),isAuth:o}),r.a.createElement(F,(e={exact:!0,path:"/statistics"},Object(c.a)(e,"exact",!0),Object(c.a)(e,"component",K),Object(c.a)(e,"isAuth",o),e)),r.a.createElement(F,(t={exact:!0,path:"/tours"},Object(c.a)(t,"exact",!0),Object(c.a)(t,"component",H),Object(c.a)(t,"isAuth",o),t)),r.a.createElement(C,null))):r.a.createElement("div",null,"Loading...")};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))},60:function(e,t,a){}},[[120,2,1]]]);
//# sourceMappingURL=main.f11b378a.chunk.js.map